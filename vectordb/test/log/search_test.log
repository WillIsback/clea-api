=== Tests de recherche démarrés le 2025-05-06 20:55:17.741029 ===

INFO: 2025-05-06 20:55:17.741131 -- === TEST: Évaluation de la confidence ===

INFO: 2025-05-06 20:55:19.124821 -- stats : {'min': 6.0, 'max': 8.0, 'avg': 6.875, 'median': 6.75}

INFO: 2025-05-06 20:55:19.125112 -- Scores élevés: [8, 7, 6.5, 6] → Confidence: 0.9

INFO: 2025-05-06 20:55:19.125354 -- stats : {'min': -10.0, 'max': -7.0, 'avg': -8.625, 'median': -8.75}

INFO: 2025-05-06 20:55:19.125496 -- Scores faibles: [-7.0, -8.5, -9.0, -10.0] → Confidence: 0.1

INFO: 2025-05-06 20:55:19.125650 -- stats : {'min': -2.0, 'max': 2.0, 'avg': 0.0, 'median': 0.0}

INFO: 2025-05-06 20:55:19.125847 -- Scores moyens: [-2.0, -1, 2, 1] → Confidence: 0.7

INFO: 2025-05-06 20:55:19.125985 -- Sans scores → Confidence: 0.0

INFO: 2025-05-06 20:55:19.126088 -- ✅ Test d'évaluation de confidence réussi

INFO: 2025-05-06 20:55:19.131442 -- === TEST: Normalisation des scores ===

INFO: 2025-05-06 20:55:20.483921 -- Scores originaux: [0.8, 0.2, 0.5, 0.9, 0.1]

INFO: 2025-05-06 20:55:20.484319 -- Scores normalisés: [0.875, 0.125, 0.5, 1.0, 0.0]

INFO: 2025-05-06 20:55:20.484459 -- Liste vide → Normalisée: []

INFO: 2025-05-06 20:55:20.484571 -- Scores identiques: [0.5, 0.5, 0.5, 0.5] → Normalisés: [0.5, 0.5, 0.5, 0.5]

INFO: 2025-05-06 20:55:20.484710 -- Scores mixtes: [-1, -5.0, 0.0, 5.0, 10.0] → Normalisés: [0.26666666666666666, 0.0, 0.3333333333333333, 0.6666666666666666, 1.0]

INFO: 2025-05-06 20:55:20.484845 -- ✅ Test de normalisation des scores réussi

INFO: 2025-05-06 20:55:20.490544 -- === TEST: Détection des requêtes hors domaine ===

INFO: 2025-05-06 20:55:22.021940 -- Requête hors domaine - Scores: [-8.5, -7.2, -6.9, -9.0]

INFO: 2025-05-06 20:55:22.022164 -- Niveau de confidence: 0.1, Message: Requête probablement hors du domaine de connaissances.

INFO: 2025-05-06 20:55:23.552337 -- Avec seuil bas - Niveau de confidence: 0.4

INFO: 2025-05-06 20:55:23.552550 -- ✅ Test de détection hors domaine réussi

INFO: 2025-05-06 20:55:23.563579 -- === TEST: Recherche hybride complète ===

INFO: 2025-05-06 20:55:23.564506 -- Création de 3 documents de test pour la recherche

INFO: 2025-05-06 20:55:25.697471 -- Génération des embeddings pour les chunks de test...

INFO: 2025-05-06 20:55:25.881598 -- Documents créés avec succès dans le corpus fda92d85-5c30-42d1-8fde-c2028b9ef2e0, 11 chunks embeddings générés

INFO: 2025-05-06 20:55:27.411937 -- Test 1: Recherche simple

INFO: 2025-05-06 20:55:27.788430 -- Résultats trouvés: 5

INFO: 2025-05-06 20:55:27.788690 -- Niveau de confidence: 0.7

INFO: 2025-05-06 20:55:27.788829 -- Test 2: Recherche avec filtres

INFO: 2025-05-06 20:55:28.107531 -- Avec filtres - Résultats: 0

INFO: 2025-05-06 20:55:28.107705 -- Test 3: Requête potentiellement hors contexte

INFO: 2025-05-06 20:55:28.330286 -- Requête hors contexte - Niveau de confidence: 0.1

INFO: 2025-05-06 20:55:28.330477 -- Message: Résultats disponibles mais de faible pertinence.

INFO: 2025-05-06 20:55:28.330618 -- ✅ Test de recherche hybride réussi

